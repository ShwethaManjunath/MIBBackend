var cov_u5dql4f1l=function(){var path="D:\\Shwetha\\Projects\\DIM\\routes\\user\\social.js",hash="036147e6cae5c2fe31d1da5ade7b853bc4f686f6",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"D:\\Shwetha\\Projects\\DIM\\routes\\user\\social.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:42}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:3,column:10},end:{line:3,column:33}},"3":{start:{line:7,column:0},end:{line:9,column:3}},"4":{start:{line:11,column:0},end:{line:22,column:2}},"5":{start:{line:15,column:17},end:{line:15,column:36}},"6":{start:{line:17,column:14},end:{line:17,column:68}},"7":{start:{line:18,column:11},end:{line:18,column:41}},"8":{start:{line:19,column:24},end:{line:19,column:96}},"9":{start:{line:20,column:11},end:{line:20,column:62}},"10":{start:{line:23,column:0},end:{line:23,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:64},end:{line:11,column:65}},loc:{start:{line:11,column:76},end:{line:22,column:1}},line:11}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const router=(cov_u5dql4f1l.s[0]++,require('express').Router());const passport=(cov_u5dql4f1l.s[1]++,require('passport'));var jwt=(cov_u5dql4f1l.s[2]++,require('jsonwebtoken'));//Auth Login
cov_u5dql4f1l.s[3]++;router.get('/login',passport.authenticate('google',{scope:['profile','email']}));cov_u5dql4f1l.s[4]++;router.get('/statergy/redirect',passport.authenticate('google'),(req,res)=>{cov_u5dql4f1l.f[0]++;// res.send('you reached the callback uri' + res.user)
// console.log('User:'+req.user);
var payload=(cov_u5dql4f1l.s[5]++,{id:req.user.id});// console.log(payload);
var token=(cov_u5dql4f1l.s[6]++,jwt.sign(payload,'mysecretkey',{expiresIn:'24h'}));cov_u5dql4f1l.s[7]++;console.log("token : "+token);let conURL=(cov_u5dql4f1l.s[8]++,"/x_Token/"+token+"/user/"+req.user.username+"/type/"+req.user.user_type);cov_u5dql4f1l.s[9]++;res.redirect("http://localhost:4200/index"+conURL);});cov_u5dql4f1l.s[10]++;module.exports=router;