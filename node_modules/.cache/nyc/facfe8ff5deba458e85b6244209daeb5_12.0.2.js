var cov_1xhpf505kv=function(){var path="D:\\Shwetha\\Projects\\DIM\\models\\account.js",hash="5f2ba639eadc489702c4db813a0343c5deb14b78",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"D:\\Shwetha\\Projects\\DIM\\models\\account.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:34}},"1":{start:{line:2,column:13},end:{line:2,column:32}},"2":{start:{line:5,column:20},end:{line:33,column:6}},"3":{start:{line:35,column:18},end:{line:35,column:74}},"4":{start:{line:37,column:4},end:{line:48,column:5}},"5":{start:{line:39,column:8},end:{line:47,column:11}},"6":{start:{line:40,column:12},end:{line:46,column:15}},"7":{start:{line:41,column:16},end:{line:41,column:50}},"8":{start:{line:43,column:16},end:{line:43,column:43}},"9":{start:{line:44,column:16},end:{line:44,column:42}},"10":{start:{line:45,column:15},end:{line:45,column:64}},"11":{start:{line:50,column:4},end:{line:53,column:5}},"12":{start:{line:51,column:20},end:{line:51,column:41}},"13":{start:{line:52,column:8},end:{line:52,column:41}},"14":{start:{line:58,column:4},end:{line:63,column:5}},"15":{start:{line:59,column:8},end:{line:62,column:11}},"16":{start:{line:60,column:12},end:{line:60,column:31}},"17":{start:{line:60,column:21},end:{line:60,column:31}},"18":{start:{line:61,column:12},end:{line:61,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:37,column:33},end:{line:37,column:34}},loc:{start:{line:37,column:62},end:{line:48,column:5}},line:37},"1":{name:"(anonymous_1)",decl:{start:{line:39,column:27},end:{line:39,column:28}},loc:{start:{line:39,column:47},end:{line:47,column:9}},line:39},"2":{name:"(anonymous_2)",decl:{start:{line:40,column:52},end:{line:40,column:53}},loc:{start:{line:40,column:72},end:{line:46,column:13}},line:40},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:39},end:{line:50,column:40}},loc:{start:{line:50,column:69},end:{line:53,column:5}},line:50},"4":{name:"(anonymous_4)",decl:{start:{line:58,column:37},end:{line:58,column:38}},loc:{start:{line:58,column:82},end:{line:63,column:5}},line:58},"5":{name:"(anonymous_5)",decl:{start:{line:59,column:48},end:{line:59,column:49}},loc:{start:{line:59,column:72},end:{line:62,column:9}},line:59}},branchMap:{"0":{loc:{start:{line:60,column:12},end:{line:60,column:31}},type:"if",locations:[{start:{line:60,column:12},end:{line:60,column:31}},{start:{line:60,column:12},end:{line:60,column:31}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var mongoose=(cov_1xhpf505kv.s[0]++,require('mongoose'));var bcrypt=(cov_1xhpf505kv.s[1]++,require('bcryptjs'));// user schema
var AccountSchema=(cov_1xhpf505kv.s[2]++,mongoose.Schema({username:{type:String,index:true,unique:true},password:{type:String},oauth_source:{type:String},oauth_id:{type:String},user_type:{type:String},prime_user:{type:Boolean},modified_date:{type:Date},created_date:{type:Date}}));var Account=(cov_1xhpf505kv.s[3]++,module.exports=mongoose.model('account',AccountSchema));cov_1xhpf505kv.s[4]++;module.exports.saveAccount=function(newAccount,callback){cov_1xhpf505kv.f[0]++;cov_1xhpf505kv.s[5]++;//  console.log("inside User Model"+newAccount);
bcrypt.genSalt(10,function(err,salt){cov_1xhpf505kv.f[1]++;cov_1xhpf505kv.s[6]++;bcrypt.hash(newAccount.password,salt,function(err,hash){cov_1xhpf505kv.f[2]++;cov_1xhpf505kv.s[7]++;console.log("password hash"+hash);// Store hash in your password DB.
cov_1xhpf505kv.s[8]++;newAccount.password=hash;cov_1xhpf505kv.s[9]++;newAccount.save(callback);cov_1xhpf505kv.s[10]++;console.log("New account is created"+newAccount);});});};cov_1xhpf505kv.s[11]++;module.exports.getUserByUserName=function(username,callback){cov_1xhpf505kv.f[3]++;var query=(cov_1xhpf505kv.s[12]++,{username:username});cov_1xhpf505kv.s[13]++;Account.findOne(query,callback);};cov_1xhpf505kv.s[14]++;module.exports.comparePassword=function(candidatePassword,hash,callback){cov_1xhpf505kv.f[4]++;cov_1xhpf505kv.s[15]++;bcrypt.compare(candidatePassword,hash,function(err,isMatch){cov_1xhpf505kv.f[5]++;cov_1xhpf505kv.s[16]++;if(err){cov_1xhpf505kv.b[0][0]++;cov_1xhpf505kv.s[17]++;throw err;}else{cov_1xhpf505kv.b[0][1]++;}cov_1xhpf505kv.s[18]++;callback(null,isMatch);});};